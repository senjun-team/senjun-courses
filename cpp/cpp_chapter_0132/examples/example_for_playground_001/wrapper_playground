import std;

// Для удобства определяем псевдоним типа функции
using ActionCallback = void(std::string);

// Второй параметр - объект std::function
void ask_confirmation(std::string prompt, std::function<ActionCallback> callback)
{
    if (!prompt.empty())
        std::println("{}", prompt);
    
    // В песочнице нет возможности получить ввод от пользователя,
    // поэтому хардкодим:
    std::string user_input = "Y";
    
    callback(user_input);
}

void on_update(std::string input)
{
    if (input == "Y")
        std::println("Updating...");
    else
        std::println("Cancelled update");
}

void on_search(std::string input)
{
    std::println("Searching for package {}...", input);
}

int main()
{
    // При подстановке второго аргумента происходит
    // неявный вызов конструктора std::function
    ask_confirmation("Update? Y/N", on_update);
    ask_confirmation("", on_search);
}